/* ═══════════════════════════════════════════════════════════════
   EURO-OFFICE Design System — Global Stylesheet
   v3.1 — 2026-02-17
   Dark mode polishing: WelcomeScreen, AuthScreen, SettingsModal,
   AdminPanel, GanttChart, PERTChart, Organigram, ChartRenderer
   ═══════════════════════════════════════════════════════════════ */

/* ─── SCREEN: hide print layout ─── */
@media screen {
  .print-only {
    display: none !important;
  }
}

/* ─── PRINT: show print layout, hide app UI ─── */
@media print {
  .print\:hidden,
  .no-print,
  .print\:hidden * {
    display: none !important;
  }

  .print\:block {
    display: block !important;
  }

  /* CRITICAL: Remove all overflow/height constraints for printing */
  html, body {
    overflow: visible !important;
    height: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    background: white !important;
    color: #0F172A !important;
  }

  #root {
    overflow: visible !important;
    height: auto !important;
  }

  /* Ensure print layout flows naturally across pages */
  .print\:block,
  .print\:block > * {
    overflow: visible !important;
    height: auto !important;
    max-height: none !important;
  }

  /* Page break hints */
  section {
    page-break-inside: avoid;
  }

  h1, h2, h3 {
    page-break-after: avoid;
  }

  table {
    page-break-inside: avoid;
  }

  /* Hide scrollbars in print */
  *::-webkit-scrollbar {
    display: none !important;
  }

  /* Force light mode for print */
  :root.dark {
    --bg-surface: #F8FAFC;
    --bg-card: #FFFFFF;
    --bg-sidebar: #F1F5F9;
    --text-heading: #0F172A;
    --text-body: #334155;
    --text-muted: #94A3B8;
    --border-light: #E2E8F0;
    --border-medium: #CBD5E1;
  }
}

/* ─── Custom scrollbar (for sidebar) ─── */
.custom-scrollbar::-webkit-scrollbar {
  width: 4px;
}
.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: #cbd5e1;
  border-radius: 20px;
}

/* ─── SCREEN ONLY: Prevent double scrollbar ─── */
@media screen {
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    height: 100%;
  }

  #root {
    height: 100%;
    overflow: hidden;
  }
}

/* ═══ Global Keyframe Animations ═══ */

@keyframes shimmer {
  0%   { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0.5; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes slideInRight {
  from { opacity: 0; transform: translateX(16px); }
  to   { opacity: 1; transform: translateX(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to   { opacity: 1; transform: scale(1); }
}

@keyframes fadeInScale {
  from { opacity: 0; transform: scale(0.8); }
  to   { opacity: 1; transform: scale(1); }
}

/* ═══ Micro-animation utility classes ═══ */

.animate-fadeIn    { animation: fadeIn 0.3s ease-out both; }
.animate-scaleIn   { animation: scaleIn 0.25s ease-out both; }
.animate-slideRight { animation: slideInRight 0.3s ease-out both; }

/* Hover lift micro-animation */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px -5px rgba(0, 0, 0, 0.12);
}

/* Card hover micro-animation (ProjectDisplay cards) */
.card-hover {
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.card-hover:hover {
  transform: translateY(-1px);
}

@keyframes cardAppear {
  from { opacity: 0; transform: translateY(12px); }
  to   { opacity: 1; transform: translateY(0); }
}
.animate-cardAppear {
  animation: cardAppear 0.35s ease-out both;
}

/* Focus ring utility */
.focus-ring:focus-visible {
  outline: 2px solid #6366F1;
  outline-offset: 2px;
}

/* ═══ CSS Custom Properties — Light (default) ═══ */

:root {
  --bg-surface: #F8FAFC;
  --bg-card: #FFFFFF;
  --bg-sidebar: #F1F5F9;
  --text-heading: #0F172A;
  --text-body: #334155;
  --text-muted: #94A3B8;
  --border-light: #E2E8F0;
  --border-medium: #CBD5E1;
}

/* ═══ CSS Custom Properties — Dark ═══ */

:root.dark {
  --bg-surface: #0F172A;
  --bg-card: #1E293B;
  --bg-sidebar: #1A2332;
  --text-heading: #F1F5F9;
  --text-body: #CBD5E1;
  --text-muted: #64748B;
  --border-light: #334155;
  --border-medium: #475569;
}

/* ═══════════════════════════════════════════════════════════════
   DARK MODE — Tailwind utility class overrides
   Covers: ProjectDisplay, WelcomeScreen, AuthScreen,
   SettingsModal, GanttChart, PERTChart, Organigram
   ═══════════════════════════════════════════════════════════════ */

/* ─── Surface / Background ─── */
.dark .bg-white       { background-color: #1E293B !important; }
.dark .bg-slate-50    { background-color: #1A2332 !important; }
.dark .bg-slate-100   { background-color: #0F172A !important; }
.dark .bg-slate-200   { background-color: #1E293B !important; }
.dark .bg-slate-50\/50 { background-color: rgba(26, 35, 50, 0.5) !important; }
.dark .bg-white\/80   { background-color: rgba(30, 41, 59, 0.85) !important; }
.dark .bg-white\/95   { background-color: rgba(30, 41, 59, 0.95) !important; }
.dark .bg-black\/50   { background-color: rgba(0, 0, 0, 0.65) !important; }

/* ─── Text ─── */
.dark .text-slate-800,
.dark .text-slate-700 { color: #F1F5F9 !important; }
.dark .text-slate-600,
.dark .text-slate-500 { color: #CBD5E1 !important; }
.dark .text-slate-400,
.dark .text-slate-300 { color: #94A3B8 !important; }

/* ─── Borders ─── */
.dark .border-slate-100,
.dark .border-slate-200 { border-color: #334155 !important; }
.dark .border-slate-300 { border-color: #475569 !important; }

/* ─── Form elements ─── */
.dark textarea, .dark input, .dark select {
  background-color: #0F172A !important;
  color: #CBD5E1 !important;
  border-color: #475569 !important;
}
.dark textarea:focus, .dark input:focus, .dark select:focus {
  border-color: #818CF8 !important;
  box-shadow: 0 0 0 2px rgba(129, 140, 248, 0.3) !important;
}
.dark textarea::placeholder,
.dark input::placeholder {
  color: #64748B !important;
}

/* ─── Sky / Cyan accent ─── */
.dark .bg-sky-50      { background-color: rgba(99, 102, 241, 0.1) !important; }
.dark .bg-sky-100     { background-color: rgba(99, 102, 241, 0.15) !important; }
.dark .text-sky-600   { color: #818CF8 !important; }
.dark .text-sky-700   { color: #A5B4FC !important; }
.dark .text-sky-800   { color: #C7D2FE !important; }
.dark .border-sky-200 { border-color: rgba(99, 102, 241, 0.3) !important; }
.dark .border-sky-500 { border-color: #818CF8 !important; }
.dark .border-sky-600 { border-color: #818CF8 !important; }
.dark .ring-sky-500   { --tw-ring-color: rgba(129, 140, 248, 0.5) !important; }
.dark .focus\:ring-sky-500:focus { --tw-ring-color: rgba(129, 140, 248, 0.5) !important; }

/* ─── Red / Error ─── */
.dark .bg-red-50      { background-color: rgba(239, 68, 68, 0.1) !important; }
.dark .text-red-500   { color: #FCA5A5 !important; }
.dark .text-red-600   { color: #FCA5A5 !important; }
.dark .text-red-700   { color: #FCA5A5 !important; }
.dark .border-red-100 { border-color: rgba(239, 68, 68, 0.2) !important; }
.dark .border-red-200 { border-color: rgba(239, 68, 68, 0.25) !important; }

/* ─── Green / Success ─── */
.dark .bg-green-50    { background-color: rgba(16, 185, 129, 0.1) !important; }
.dark .bg-green-100   { background-color: rgba(16, 185, 129, 0.15) !important; }
.dark .text-green-500 { color: #6EE7B7 !important; }
.dark .text-green-600 { color: #6EE7B7 !important; }
.dark .text-green-800 { color: #A7F3D0 !important; }
.dark .border-green-200 { border-color: rgba(16, 185, 129, 0.25) !important; }

/* ─── Amber / Warning ─── */
.dark .bg-amber-50    { background-color: rgba(245, 158, 11, 0.1) !important; }
.dark .bg-amber-100   { background-color: rgba(245, 158, 11, 0.15) !important; border-color: #92400E !important; }
.dark .bg-amber-500   { background-color: #D97706 !important; }
.dark .text-amber-600 { color: #FCD34D !important; }
.dark .text-amber-800 { color: #FDE68A !important; }
.dark .border-amber-200 { border-color: rgba(245, 158, 11, 0.25) !important; }

/* ─── Blue (SettingsModal) ─── */
.dark .bg-blue-50     { background-color: rgba(99, 102, 241, 0.1) !important; }
.dark .text-blue-800  { color: #C7D2FE !important; }
.dark .border-blue-200 { border-color: rgba(99, 102, 241, 0.25) !important; }

/* ─── Orange (WelcomeScreen) ─── */
.dark .text-orange-600 { color: #FDBA74 !important; }

/* ─── Shadows ─── */
.dark .shadow-sm { box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3) !important; }
.dark .shadow-md { box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3) !important; }
.dark .shadow-lg { box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3) !important; }
.dark .shadow-xl { box-shadow: 0 20px 25px rgba(0, 0, 0, 0.3) !important; }

/* ─── Gradient overrides ─── */
.dark .bg-gradient-to-r.from-sky-400.to-sky-600 {
  background: linear-gradient(to right, #6366F1, #8B5CF6) !important;
}
.dark .from-sky-400 { --tw-gradient-from: #6366F1 !important; }
.dark .to-sky-600   { --tw-gradient-to: #8B5CF6 !important; }
.dark .from-slate-100 { --tw-gradient-from: #1E293B !important; }
.dark .to-slate-200   { --tw-gradient-to: #253348 !important; }

/* ─── Sky button overrides (AuthScreen, SettingsModal) ─── */
.dark .bg-sky-600 {
  background-color: #6366F1 !important;
}
.dark .bg-sky-600:hover,
.dark .hover\:bg-sky-700:hover {
  background-color: #4F46E5 !important;
}

/* ─── Hover states ─── */
.dark .hover\:bg-slate-50:hover  { background-color: #253348 !important; }
.dark .hover\:bg-slate-100:hover { background-color: #253348 !important; }
.dark .hover\:bg-slate-300:hover { background-color: #334155 !important; }
.dark .hover\:text-slate-600:hover { color: #F1F5F9 !important; }
.dark .hover\:text-slate-700:hover { color: #F1F5F9 !important; }
.dark .hover\:text-slate-800:hover { color: #F1F5F9 !important; }
.dark .hover\:border-slate-300:hover { border-color: #475569 !important; }

/* ─── Dashed circle (WelcomeScreen) ─── */
.dark .border-dashed.border-slate-300 {
  border-color: #475569 !important;
}

/* ─── GanttChart / PERTChart / Organigram connectors ─── */
.dark .bg-slate-300 { background-color: #475569 !important; }
.dark .bg-slate-700 { background-color: #1E293B !important; }
.dark .border-slate-300.border-dashed { border-color: #475569 !important; }

/* ─── Dark scrollbar ─── */
.dark .custom-scrollbar::-webkit-scrollbar-thumb {
  background-color: #475569;
}
.dark ::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
.dark ::-webkit-scrollbar-track {
  background: #0F172A;
}
.dark ::-webkit-scrollbar-thumb {
  background-color: #475569;
  border-radius: 20px;
}
.dark ::-webkit-scrollbar-thumb:hover {
  background-color: #64748B;
}

/* ─── Filter / Grayscale override (WelcomeScreen disabled buttons) ─── */
.dark .filter.grayscale {
  filter: grayscale(1) brightness(0.7) !important;
}

/* ─── SettingsModal specific overrides ─── */
.dark .border-b-2.border-sky-600 {
  border-color: #818CF8 !important;
}
.dark .ring-1.ring-sky-500 {
  --tw-ring-color: #818CF8 !important;
}
.dark .border-2.border-sky-500 {
  border-color: #818CF8 !important;
}

/* ─── CollapsibleSection in SettingsModal ─── */
.dark .border.border-slate-200.rounded-lg {
  border-color: #334155 !important;
}

/* ─── Organigram card border-top colors (keep vibrant) ─── */
.dark .border-t-4 {
  opacity: 1;
}

/* ─── WelcomeScreen / AuthScreen background ─── */
.dark .bg-slate-200 { background-color: #0F172A !important; }
