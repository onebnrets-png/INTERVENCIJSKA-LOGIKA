/* ═══════════════════════════════════════════════════════════════
   EURO-OFFICE Design System — Global Stylesheet
   v5.0 — 2026-02-17
   
   ARCHITECTURE:
     Light mode: Tailwind defaults + minimal overrides
     Dark mode:  Material Design 3 compliant (m2.material.io/design/color/dark-theme)
       - Dark grey (#121212) base — NOT pure black
       - Elevation = lighter surfaces (5%→16% white overlay model)
       - Desaturated accents (200 range)
       - Text: 87% white (high), 60% (medium), 38% (disabled)
       - Section-colored glow borders replace shadows
       - Contrast ≥ 15.8:1 for body text
   
   SECTIONS:
     1. Screen / Print media
     2. Scrollbar
     3. Animations & keyframes
     4. Light mode CSS variables
     5. Dark mode CSS variables
     6. DARK MODE OVERRIDES (Material Design 3)
     7. Step content cards
     8. Print overrides
   ═══════════════════════════════════════════════════════════════ */


/* ═══════════════════════════════════════════════════════════════
   1. SCREEN / PRINT MEDIA
   ═══════════════════════════════════════════════════════════════ */

@media screen {
  .print-only { display: none !important; }
}

@media print {
  .no-print,
  .sidebar,
  nav,
  header,
  footer,
  button,
  .toolbar,
  .loading-overlay { display: none !important; }

  * {
    overflow: visible !important;
    height: auto !important;
    max-height: none !important;
  }

  body, html {
    background: #FFFFFF !important;
    color: #000000 !important;
    font-size: 11pt !important;
  }

  :root {
    --bg-surface: #FFFFFF;
    --bg-card: #FFFFFF;
    --text-heading: #000000;
    --text-body: #1a1a1a;
    --border-light: #cccccc;
  }
}


/* ═══════════════════════════════════════════════════════════════
   2. SCROLLBAR
   ═══════════════════════════════════════════════════════════════ */

.sidebar::-webkit-scrollbar {
  width: 6px;
}
.sidebar::-webkit-scrollbar-track {
  background: transparent;
}
.sidebar::-webkit-scrollbar-thumb {
  background: rgba(148, 163, 184, 0.3);
  border-radius: 3px;
}
.sidebar::-webkit-scrollbar-thumb:hover {
  background: rgba(148, 163, 184, 0.5);
}


/* ═══════════════════════════════════════════════════════════════
   3. ANIMATIONS & KEYFRAMES
   ═══════════════════════════════════════════════════════════════ */

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes slideInRight {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes fadeInScale {
  from { opacity: 0; transform: scale(0.97); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes cardAppear {
  from { opacity: 0; transform: translateY(12px) scale(0.98); }
  to { opacity: 1; transform: translateY(0) scale(1); }
}

/* Utility animation classes */
.animate-fadeIn {
  animation: fadeIn 0.3s ease-out both;
}

.animate-cardAppear {
  animation: cardAppear 0.4s ease-out both;
}

.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.hover-lift:hover {
  transform: translateY(-2px);
}

.card-hover {
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.card-hover:hover {
  transform: translateY(-1px);
}


/* ═══════════════════════════════════════════════════════════════
   4. LIGHT MODE CSS VARIABLES
   ═══════════════════════════════════════════════════════════════ */

:root {
  --bg-surface: #F8FAFC;
  --bg-card: #FFFFFF;
  --bg-sidebar: #F1F5F9;
  --text-heading: #0F172A;
  --text-body: #334155;
  --text-muted: #94A3B8;
  --border-light: #E2E8F0;
  --border-medium: #CBD5E1;
}


/* ═══════════════════════════════════════════════════════════════
   5. DARK MODE CSS VARIABLES
   ═══════════════════════════════════════════════════════════════ */

:root.dark {
  --bg-surface: #121212;
  --bg-card: #1E1E1E;
  --bg-sidebar: #1E1E1E;
  --text-heading: rgba(255, 255, 255, 0.87);
  --text-body: rgba(255, 255, 255, 0.60);
  --text-muted: rgba(255, 255, 255, 0.38);
  --border-light: #2C2C2C;
  --border-medium: #3D3D3D;
}


/* ═══════════════════════════════════════════════════════════════
   6. DARK MODE OVERRIDES — Material Design 3 Compliant
   
   Material Elevation Overlay Model:
     00dp = #121212 (0% white overlay)
     01dp = #1E1E1E (5%)
     02dp = #232323 (7%)
     03dp = #282828 (8%)
     04dp = #2C2C2C (9%)
     06dp = #333333 (11%)
     08dp = #383838 (12%)
     12dp = #404040 (14%)
     16dp = #454545 (15%)
     24dp = #4A4A4A (16%)
   ═══════════════════════════════════════════════════════════════ */

/* ─── 6.1 ROOT ─── */
html.dark,
html.dark body {
  background-color: #121212 !important;
  color: rgba(255, 255, 255, 0.87) !important;
  color-scheme: dark;
}

/* ─── 6.2 MAIN CONTENT AREA (bg behind cards) ─── */
html.dark .bg-slate-50,
html.dark .bg-slate-50\/30,
html.dark .bg-gray-50,
html.dark .bg-slate-100,
html.dark .bg-gray-100 {
  background-color: #121212 !important;
}

/* ─── 6.3 CARDS — elevation level 01dp (5% overlay) ─── */
html.dark .bg-white {
  background-color: #1E1E1E !important;
  color: rgba(255, 255, 255, 0.87) !important;
}

/* Nested cards — elevation 02dp (7%) */
html.dark .bg-white .bg-white {
  background-color: #232323 !important;
}

/* Triple-nested — elevation 03dp (8%) */
html.dark .bg-white .bg-white .bg-white {
  background-color: #282828 !important;
}

/* ─── 6.4 SECTION-COLORED GLOW BORDERS ───
   --step-card-border is set by ProjectDisplay via stepColors.
   Cards get a colored glow matching the sidebar section color.
   ─── */
html.dark .step-content .bg-white {
  border: 1px solid color-mix(in srgb, var(--step-card-border, #333333) 50%, #333333) !important;
  box-shadow: 0 0 15px -3px color-mix(in srgb, var(--step-card-border, transparent) 30%, transparent),
              0 0 6px -2px color-mix(in srgb, var(--step-card-border, transparent) 20%, transparent) !important;
}

html.dark .step-content .bg-white:hover {
  box-shadow: 0 0 25px -3px color-mix(in srgb, var(--step-card-border, transparent) 45%, transparent),
              0 0 10px -2px color-mix(in srgb, var(--step-card-border, transparent) 30%, transparent) !important;
  border-color: color-mix(in srgb, var(--step-card-border, #333333) 70%, #333333) !important;
}

/* Nested cards inside step-content: subtler glow */
html.dark .step-content .bg-white .bg-white {
  border: 1px solid #2C2C2C !important;
  box-shadow: none !important;
}

/* ─── 6.5 INPUT FIELDS — deepest surface ─── */
html.dark textarea,
html.dark input[type="text"],
html.dark input[type="number"],
html.dark input[type="email"],
html.dark input[type="password"],
html.dark input[type="date"],
html.dark select {
  background-color: #0D0D0D !important;
  color: rgba(255, 255, 255, 0.87) !important;
  border-color: #333333 !important;
}

html.dark textarea:focus,
html.dark input:focus,
html.dark select:focus {
  border-color: var(--step-card-border, #6366F1) !important;
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--step-card-border, #6366F1) 20%, transparent) !important;
  outline: none !important;
}

html.dark textarea::placeholder,
html.dark input::placeholder {
  color: rgba(255, 255, 255, 0.38) !important;
}

/* Select dropdown options */
html.dark select option {
  background-color: #1E1E1E !important;
  color: rgba(255, 255, 255, 0.87) !important;
}

/* ─── 6.6 TEXT HIERARCHY — Material opacity model ─── */

/* High-emphasis: 87% white */
html.dark .text-slate-900,
html.dark .text-slate-800,
html.dark .text-gray-900,
html.dark .text-gray-800 {
  color: rgba(255, 255, 255, 0.87) !important;
}

/* Also force headings */
html.dark h1, html.dark h2, html.dark h3,
html.dark h4, html.dark h5, html.dark h6 {
  color: rgba(255, 255, 255, 0.87) !important;
}

/* Medium-emphasis: 60% white */
html.dark .text-slate-700,
html.dark .text-slate-600,
html.dark .text-gray-700,
html.dark .text-gray-600 {
  color: rgba(255, 255, 255, 0.60) !important;
}

html.dark label {
  color: rgba(255, 255, 255, 0.60) !important;
}

html.dark p {
  color: rgba(255, 255, 255, 0.60) !important;
}

/* Low-emphasis / disabled: 38% white */
html.dark .text-slate-500,
html.dark .text-slate-400,
html.dark .text-gray-500,
html.dark .text-gray-400 {
  color: rgba(255, 255, 255, 0.38) !important;
}

/* ─── 6.7 BORDERS ─── */
html.dark .border-slate-100,
html.dark .border-slate-200,
html.dark .border-gray-100,
html.dark .border-gray-200 {
  border-color: #2C2C2C !important;
}

html.dark .border-slate-300,
html.dark .border-gray-300 {
  border-color: #3D3D3D !important;
}

html.dark .border-b {
  border-color: #2C2C2C !important;
}

html.dark .border-t-2 {
  border-color: #333333 !important;
}

html.dark .border-dashed {
  border-color: #3D3D3D !important;
}

/* ─── 6.8 HEADER / TOOLBAR ─── */
html.dark header.bg-white,
html.dark header.border-b,
html.dark .bg-white.border-b {
  background-color: #1E1E1E !important;
  border-color: #2C2C2C !important;
}

/* ─── 6.9 TOOLBAR & BUTTON ICONS ─── */
html.dark button svg,
html.dark a svg {
  color: rgba(255, 255, 255, 0.87) !important;
}

html.dark button:hover svg,
html.dark a:hover svg {
  color: #FFFFFF !important;
}

/* ─── 6.10 SHADOWS → REMOVED ───
   Material Design: in dark theme, shadows are invisible.
   Elevation is expressed through lighter surface colors.
   Exception: step-content cards keep their colored glow (6.4).
   ─── */
html.dark .shadow-sm,
html.dark .shadow,
html.dark .shadow-md,
html.dark .shadow-lg,
html.dark .shadow-xl {
  box-shadow: none !important;
}

/* ─── 6.11 ACCENT COLORS — desaturated (200 range) ─── */

/* Sky / Blue — #90CAF9 */
html.dark .text-sky-600,
html.dark .text-sky-700,
html.dark .text-sky-800 {
  color: #90CAF9 !important;
}

html.dark .bg-sky-100,
html.dark .bg-sky-50 {
  background-color: rgba(144, 202, 249, 0.08) !important;
  color: #90CAF9 !important;
}

html.dark .border-sky-200,
html.dark .border-sky-100 {
  border-color: rgba(144, 202, 249, 0.20) !important;
}

/* Indigo / Violet — #B39DDB */
html.dark .text-indigo-600,
html.dark .text-indigo-700 {
  color: #B39DDB !important;
}

html.dark .bg-indigo-50,
html.dark .bg-indigo-50\/50 {
  background-color: rgba(179, 157, 219, 0.06) !important;
}

html.dark .border-indigo-100 {
  border-color: rgba(179, 157, 219, 0.15) !important;
}

/* Red / Error — #EF9A9A */
html.dark .text-red-600,
html.dark .text-red-700 {
  color: #EF9A9A !important;
}

html.dark .bg-red-50 {
  background-color: rgba(239, 154, 154, 0.08) !important;
  color: #EF9A9A !important;
}

html.dark .border-red-100,
html.dark .border-red-200 {
  border-color: rgba(239, 154, 154, 0.20) !important;
}

/* Green / Success — #A5D6A7 */
html.dark .text-green-800,
html.dark .text-green-700,
html.dark .text-green-600 {
  color: #A5D6A7 !important;
}

html.dark .bg-green-100,
html.dark .bg-green-50 {
  background-color: rgba(165, 214, 167, 0.08) !important;
  color: #A5D6A7 !important;
}

html.dark .border-green-300,
html.dark .border-green-200 {
  border-color: rgba(165, 214, 167, 0.20) !important;
}

/* Amber / Warning — #FFE082 */
html.dark .text-yellow-800,
html.dark .text-amber-600,
html.dark .text-amber-500 {
  color: #FFE082 !important;
}

html.dark .bg-yellow-100,
html.dark .bg-amber-50,
html.dark .bg-amber-50\/50 {
  background-color: rgba(255, 224, 130, 0.08) !important;
  color: #FFE082 !important;
}

html.dark .border-yellow-300,
html.dark .border-amber-100,
html.dark .border-amber-200 {
  border-color: rgba(255, 224, 130, 0.20) !important;
}

/* ─── 6.12 TRAFFIC LIGHT SELECTS (Risk likelihood/impact) ─── */
html.dark .bg-green-100.border-green-300.text-green-800 {
  background-color: rgba(165, 214, 167, 0.12) !important;
  border-color: rgba(165, 214, 167, 0.30) !important;
  color: #A5D6A7 !important;
}

html.dark .bg-yellow-100.border-yellow-300.text-yellow-800 {
  background-color: rgba(255, 224, 130, 0.12) !important;
  border-color: rgba(255, 224, 130, 0.30) !important;
  color: #FFE082 !important;
}

html.dark .bg-red-100.border-red-300.text-red-800 {
  background-color: rgba(239, 154, 154, 0.12) !important;
  border-color: rgba(239, 154, 154, 0.30) !important;
  color: #EF9A9A !important;
}

/* ─── 6.13 GENERATE BUTTONS ─── */

/* White-bg variant (field-level) */
html.dark button.bg-white.text-sky-600,
html.dark button.bg-white.text-sky-700 {
  background-color: #1E1E1E !important;
  color: #90CAF9 !important;
  border-color: #333333 !important;
}

html.dark button.bg-white.text-sky-600:hover,
html.dark button.bg-white.text-sky-700:hover {
  background-color: #282828 !important;
  border-color: #90CAF9 !important;
}

/* Amber variant (missing API key) */
html.dark .bg-amber-500 {
  background-color: rgba(255, 224, 130, 0.15) !important;
  color: #FFE082 !important;
}

/* Sky primary buttons */
html.dark .bg-sky-600 {
  background-color: rgba(144, 202, 249, 0.15) !important;
  color: #90CAF9 !important;
  border-color: rgba(144, 202, 249, 0.30) !important;
}

html.dark .bg-sky-600:hover {
  background-color: rgba(144, 202, 249, 0.25) !important;
}

/* ─── 6.14 TASK / MILESTONE / DELIVERABLE AREAS ─── */

/* Task cards (bg-slate-50) */
html.dark .bg-slate-50.rounded-lg,
html.dark .bg-slate-50\/50 {
  background-color: #1A1A1A !important;
}

/* Left border accents for sub-sections */
html.dark .border-l-4.border-sky-100 {
  border-left-color: rgba(144, 202, 249, 0.25) !important;
}

html.dark .border-l-4.border-amber-100 {
  border-left-color: rgba(255, 224, 130, 0.25) !important;
}

html.dark .border-l-4.border-indigo-100 {
  border-left-color: rgba(179, 157, 219, 0.25) !important;
}

/* WP header badges */
html.dark .bg-sky-100.text-sky-800 {
  background-color: rgba(144, 202, 249, 0.12) !important;
  color: #90CAF9 !important;
}

/* Task ID badges */
html.dark .bg-white.border.border-slate-200 {
  background-color: #282828 !important;
  border-color: #3D3D3D !important;
}

html.dark .text-slate-500.bg-white {
  color: rgba(255, 255, 255, 0.38) !important;
}

/* ─── 6.15 DEPENDENCY SELECTOR ─── */
html.dark .bg-slate-50.rounded-lg.border.border-slate-200 {
  background-color: #1A1A1A !important;
  border-color: #2C2C2C !important;
}

/* Dependency items */
html.dark .bg-white.px-2.py-1\.5.rounded.border.border-slate-200 {
  background-color: #232323 !important;
  border-color: #2C2C2C !important;
}

/* ─── 6.16 GRADIENT BACKGROUNDS ─── */
html.dark .bg-gradient-to-br,
html.dark .bg-gradient-to-r {
  background: #1E1E1E !important;
}

/* Project title/acronym card gradient */
html.dark .bg-gradient-to-br.from-white.to-slate-50 {
  background: #1E1E1E !important;
}

/* ─── 6.17 ALERT / ERROR BARS ─── */
html.dark .bg-red-50.border-l-4.border-red-500 {
  background-color: rgba(239, 154, 154, 0.08) !important;
  border-left-color: #EF9A9A !important;
  color: #EF9A9A !important;
}

/* Loading indicator */
html.dark .bg-sky-50.border.border-sky-100 {
  background-color: rgba(144, 202, 249, 0.06) !important;
  border-color: rgba(144, 202, 249, 0.15) !important;
  color: #90CAF9 !important;
}

/* ─── 6.18 READINESS LEVEL CARDS ─── */
html.dark .bg-slate-50.focus\:bg-white {
  background-color: #1A1A1A !important;
}

html.dark select.bg-slate-50 {
  background-color: #1A1A1A !important;
  color: rgba(255, 255, 255, 0.87) !important;
}

/* End date display */
html.dark .bg-slate-50.text-sky-700 {
  background-color: #1A1A1A !important;
  color: #90CAF9 !important;
}

/* ─── 6.19 ORGANIGRAM AREA ─── */
html.dark .bg-slate-50\/50 {
  background-color: #1A1A1A !important;
}

/* ─── 6.20 LINKS ─── */
html.dark a:not([class*="bg-"]) {
  color: #90CAF9;
}

html.dark a:not([class*="bg-"]):hover {
  color: #BBDEFB;
}

/* ─── 6.21 SCROLLBAR — dark variant ─── */
html.dark ::-webkit-scrollbar-track {
  background: #121212;
}

html.dark ::-webkit-scrollbar-thumb {
  background: #333333;
  border-color: #121212;
}

html.dark ::-webkit-scrollbar-thumb:hover {
  background: #444444;
}

html.dark .sidebar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.10);
}

html.dark .sidebar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.20);
}

/* ─── 6.22 CODE / MONO ─── */
html.dark code,
html.dark pre {
  background-color: #0D0D0D !important;
  color: rgba(255, 255, 255, 0.87) !important;
}

/* ─── 6.23 FILTER OVERRIDES ─── */
html.dark .filter {
  filter: none !important;
}

html.dark .grayscale {
  filter: grayscale(1) !important;
}

/* ─── 6.24 ADMIN PANEL / SETTINGS MODAL ─── */

/* Admin panel uses inline styles from theme.ts (darkColors),
   so most elements are already correct. These catch edge cases: */

html.dark .border-b[style*="border"] {
  border-color: #2C2C2C !important;
}

/* ─── 6.25 CHARTS (Gantt, PERT, Organigram) ─── */
html.dark .recharts-text,
html.dark .recharts-cartesian-axis-tick-value {
  fill: rgba(255, 255, 255, 0.60) !important;
}

html.dark .recharts-cartesian-grid line {
  stroke: #2C2C2C !important;
}


/* ═══════════════════════════════════════════════════════════════
   7. STEP CONTENT CARDS
   Uses CSS custom properties set by ProjectDisplay:
     --step-card-bg     (light tint of section color)
     --step-card-border  (section accent color)
   ═══════════════════════════════════════════════════════════════ */

/* Light mode: subtle tinted background */
.step-content .bg-white {
  background-color: var(--step-card-bg, #FFFFFF);
  border-color: var(--step-card-border, #E2E8F0);
}

/* Dark mode: override handled in 6.3 + 6.4 above */


/* ═══════════════════════════════════════════════════════════════
   8. PRINT — force light mode for printing
   ═══════════════════════════════════════════════════════════════ */

@media print {
  html.dark,
  html.dark body {
    background: #FFFFFF !important;
    color: #000000 !important;
  }

  html.dark .bg-white,
  html.dark .bg-slate-50,
  html.dark .bg-slate-100 {
    background: #FFFFFF !important;
    color: #000000 !important;
    box-shadow: none !important;
    border-color: #CCCCCC !important;
  }

  html.dark h1, html.dark h2, html.dark h3,
  html.dark h4, html.dark h5, html.dark h6 {
    color: #000000 !important;
  }

  html.dark p, html.dark span, html.dark div,
  html.dark label, html.dark li, html.dark td {
    color: #1a1a1a !important;
  }

  html.dark textarea,
  html.dark input,
  html.dark select {
    background: #FFFFFF !important;
    color: #000000 !important;
    border-color: #CCCCCC !important;
  }

  /* Remove all glows and dark borders for print */
  html.dark .step-content .bg-white {
    box-shadow: none !important;
    border: 1px solid #CCCCCC !important;
  }
}
